<div class="container-funcionarios mt-4">

    <!-- ===== BREADCRUMB COM BOTÃO ===== -->
    <div class="custom-breadcrumb d-flex justify-content-between align-items-center mb-4">
        <nav>
            <ol>
                <li>
                    <a routerLink="/home">
                        <i class="fa-solid fa-house"></i>
                        <span>Home</span>
                    </a>
                </li>
                <li>
                    <a routerLink="/home/_cad">
                        <i class="fa-solid fa-folder-open"></i>
                        <span>Cadastro</span>
                    </a>
                </li>
                <li class="active">
                    <i class="fa-solid fa-location-dot"></i>
                    <span>Produtos</span>
                </li>
            </ol>
        </nav>

        <button class="btn btn-primary btn-breadcrumb" (click)="novoProduto()">
            <i class="fa-solid fa-plus"></i> Novo Produto
        </button>
    </div>
 <div class="row mb-3">
    <div class="col-md-6">
      <input
        type="text"
        class="form-control"
        placeholder="Filtrar por nome do produto..."
        [(ngModel)]="filtroNome"
        (keyup.enter)="aplicarFiltro()"
      >
    </div>
    <div class="col-md-6 text-end">
      <button class="btn btn-primary me-2" (click)="aplicarFiltro()">Filtrar</button>
      <button class="btn btn-secondary" (click)="limparFiltro()">Limpar</button>
    </div>
<br>
<br>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Nome</th>
                <th>Valor Compra</th>
                <th>Valor Venda</th>
                <th>Unidade Produto</th>
                <th>Ações</th>
            </tr>
        </thead>
        <tbody>
            <tr *ngFor="let p of produtosPaginados">
                <td>{{ p.nomeProduto }}</td>
                <td>{{ p.valorCompra | currency:'BRL' }}</td>
                <td>{{ p.valorVenda | currency:'BRL' }}</td>
                <td>{{ p.unidadeProduto }}</td>
                <td>
                    <button class="btn btn-sm btn-warning me-2" (click)="editarProduto(p.idProduto!)">         <i class="fa fa-pen"></i></button>
                    <button class="btn btn-sm btn-danger" (click)="excluirProduto(p!)">            <i class="fa fa-trash"></i></button>
                </td>
            </tr>
        </tbody>
    </table>
<!-- ===== PAGINAÇÃO ===== -->
<div class="d-flex justify-content-between align-items-center mt-3">
  <div class="text-muted small">
    Mostrando {{ exibicaoInicio }} - {{ exibicaoFim }} de {{ totalItens }}
  </div>

  <nav>
    <ul class="pagination pagination-sm mb-0">
      <li class="page-item" [class.disabled]="paginaAtual === 0">
        <button class="page-link" (click)="mudarPagina(paginaAtual - 1)" [disabled]="paginaAtual === 0">
          Anterior
        </button>
      </li>

      <li
        class="page-item"
        *ngFor="let p of paginas"
        [class.active]="p === paginaAtual"
        [hidden]="paginas.length <= 1"
      >
        <button class="page-link" (click)="mudarPagina(p)">{{ p + 1 }}</button>
      </li>

      <li
        class="page-item"
        [class.disabled]="(paginaAtual + 1) * itensPorPagina >= totalItens"
      >
        <button
          class="page-link"
          (click)="mudarPagina(paginaAtual + 1)"
          [disabled]="(paginaAtual + 1) * itensPorPagina >= totalItens"
        >
          Próxima
        </button>
      </li>
    </ul>
  </nav>
</div>