<div class="dashboard-container">
  <!-- Sidebar Menu -->
  <aside class="sidebar">
    <div class="menu-items">
      <ng-container *ngFor="let m of menu">
        <div class="menu-item">
          <!-- Se tiver submenus -->
          <div *ngIf="m.subMenus?.length; else single">
            <div
              class="menu-link"
              (click)="toggleMenu(m.id)"
            >
              <i class="fa-solid fa-folder"></i>
              <span>{{ m.descricao }}</span>
              <i
                class="fa-solid fa-chevron-down ms-auto"
                [class.rotate]="openedMenu === m.id"
              ></i>
            </div>

            <div 
              class="submenu"
              *ngIf="openedMenu === m.id"
              [@expandCollapse]
            >
              <app-submenu [nodes]="m.subMenus"></app-submenu>
            </div>
          </div>

          <!-- Se for item simples -->
          <ng-template #single>
            <a [routerLink]="[m.endereco]" class="menu-link">
              <i class="fa-solid fa-circle"></i>
              <span>{{ m.descricao }}</span>
            </a>
          </ng-template>
        </div>
      </ng-container>
    </div>

    <div class="sidebar-footer">
      <a class="menu-link text-danger">
        <i class="fa-solid fa-right-from-bracket"></i>
        <span>Sair</span>
      </a>
    </div>
  </aside>

  <!-- Main Content -->
  <main class="main-content">
    <h2>Bem-vindo ao painel</h2>
    <p>Use o menu Ã  esquerda para navegar.</p>
  </main>
</div>
